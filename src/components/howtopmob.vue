<script setup lang="ts">
import { ref } from 'vue'

// –ê–∫—Ç–∏–≤–Ω—ã–π —Ä–∞—Å–∫—Ä—ã—Ç—ã–π –∏–Ω–¥–µ–∫—Å
const activeIndex = ref<number | null>(null)

function toggle(index: number) {
  activeIndex.value = activeIndex.value === index ? null : index
}

// –î–∞–Ω–Ω—ã–µ –ª–µ–≤–æ–π –∫–æ–ª–æ–Ω–∫–∏
const leftTitle = '–ø–æ—á–µ–º—É –º—ã –∫—Ä—É—Ç—ã–µ'

interface WhyLeftItem {
  number: number
  text: string
}

const leftItems = ref<WhyLeftItem[]>([
  { number: 1, text: '–º—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω—ã–π —Ä–∞–∑—É–º, —ç–∫—Å–ø–µ—Ä—Ç–Ω–æ—Å—Ç—å –∏ —Ü–µ–ª—É—é —Å–∏—Å—Ç–µ–º—É, —Ä–∞–±–æ—Ç–∞—é—â—É—é –∫–∞–∫ —Å–ª–∞–∂–µ–Ω–Ω—ã–π –æ—Ä–∫–µ—Å—Ç—Ä.' },
  { number: 2, text: '–æ—Ç–≤–µ—á–∞–µ–º –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã –∑–∞ 5 –º–∏–Ω—É—Ç, –Ω–µ –ø—Ä–æ–ø–∞–¥–∞–µ–º –∏ –Ω–µ —Å—Ä—ã–≤–∞–µ–º —Å—Ä–æ–∫–∏.' },
  { number: 3, text: '–∞–∫—Ç–∏–≤–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è: –º—ã –¥–µ–π—Å—Ç–≤—É–µ–º –Ω–∞ –æ–ø–µ—Ä–µ–∂–µ–Ω–∏–µ, —Å–æ–≤–µ—Ç—É–µ–º –∏ –ø–æ–¥—Å–∫–∞–∑—ã–≤–∞–µ–º.' },
  { number: 4, text: '–ø–æ—Å—Ç–æ—è–Ω–Ω–æ —É—á–∏–º—Å—è –∏ –ø–æ–≤—ã—à–∞–µ–º –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—é.' },
  { number: 5, text: '—Å–ø—Ä–∞–≤–ª—è–µ–º—Å—è —Å –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–º –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ–º –≤ —Å–∞–º—ã—Ö —Ä–∞–∑–Ω—ã—Ö —Å—Ñ–µ—Ä–∞—Ö.' },
  { number: 6, text: '—Å—Ç—Ä–æ–≥–æ–µ —Å–æ–±–ª—é–¥–µ–Ω–∏–µ –≤—Ä–∞—á–µ–±–Ω–æ–π —Ç–∞–π–Ω—ã + –∑–∞—â–∏—â—ë–Ω–Ω–∞—è IT-—á–∞—Å—Ç—å.' }
])

// –î–∞–Ω–Ω—ã–µ –ø—Ä–∞–≤–æ–π (–≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π) —á–∞—Å—Ç–∏
interface WhyItem {
  icon: string
  title: string
  text: string
  num: string
}

const rightItems = ref<WhyItem[]>([
  { icon: 'üö´', num: '1', title: '–ü–æ–ª–∏–∫–ª–∏–Ω–∏–∫–∏', text: '–°–∏–ª—å–Ω–æ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –∫–ª—é—á–µ–≤—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤.' },
  { icon: 'üö´', num: '1', title: '–ß–∞—Å—Ç–Ω—ã–µ –∫–ª–∏–Ω–∏–∫–∏', text: '–≠–∫–æ–Ω–æ–º—è—Ç –Ω–∞ –≤—Ä–∞—á–∞—Ö, —Å—Ç—Ä–∞–¥–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ.' },

  { icon: 'üö´', num: '2', title: '–ü–æ–ª–∏–∫–ª–∏–Ω–∏–∫–∏', text: '–ß–∞—Å—Ç–æ –Ω–µ —Ä–µ–∞–≥–∏—Ä—É—é—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã –≤–æ–≤—Ä–µ–º—è.' },
  { icon: 'üö´', num: '2', title: '–ß–∞—Å—Ç–Ω—ã–µ –∫–ª–∏–Ω–∏–∫–∏', text: '–ö–∞–∫ –ø–æ–≤–µ–∑—ë—Ç ‚Äî –º–æ–≥—É—Ç –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å.' },

  { icon: 'üö´', num: '3', title: '–ü–æ–ª–∏–∫–ª–∏–Ω–∏–∫–∏', text: '–†–µ–∞–≥–∏—Ä—É—é—Ç, —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —Ç—É—à–∏—Ç—å –ø–æ–∂–∞—Ä.' },
  { icon: 'üö´', num: '3', title: '–ß–∞—Å—Ç–Ω—ã–µ –∫–ª–∏–Ω–∏–∫–∏', text: '–ù–µ—Ç —Å–∏—Å—Ç–µ–º–Ω–æ—Å—Ç–∏, —Ç–æ–ª—å–∫–æ —Ä–µ–∞–∫—Ü–∏—è.' },

  { icon: 'üö´', num: '4', title: '–ü–æ–ª–∏–∫–ª–∏–Ω–∏–∫–∏', text: '–°—á–∏—Ç–∞—é—Ç, —á—Ç–æ —É—á–∏—Ç—å—Å—è –Ω–µ –Ω—É–∂–Ω–æ.' },
  { icon: 'üö´', num: '4', title: '–ß–∞—Å—Ç–Ω—ã–µ –∫–ª–∏–Ω–∏–∫–∏', text: '–£—á–µ–±–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞.' },

  { icon: 'üö´', num: '5', title: '–ü–æ–ª–∏–∫–ª–∏–Ω–∏–∫–∏', text: '–†–∞–±–æ—Ç–∞—é—Ç —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º –∫—Ä—É–≥–æ–º –∫–ª–∏–µ–Ω—Ç–æ–≤.' },
  { icon: 'üö´', num: '5', title: '–ß–∞—Å—Ç–Ω—ã–µ –∫–ª–∏–Ω–∏–∫–∏', text: '–í—ã–±–∏—Ä–∞—é—Ç —Ç–æ–ª—å–∫–æ –≤—ã–≥–æ–¥–Ω—ã—Ö –∑–∞–∫–∞–∑—á–∏–∫–æ–≤.' },

  { icon: 'üö´', num: '6', title: '–ü–æ–ª–∏–∫–ª–∏–Ω–∏–∫–∏', text: '–ë—ã–≤–∞—é—Ç —É—Ç–µ—á–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ —É–≤–æ–ª—å–Ω–µ–Ω–∏—è.' },
  { icon: 'üö´', num: '6', title: '–ß–∞—Å—Ç–Ω—ã–µ –∫–ª–∏–Ω–∏–∫–∏', text: '–ï—Å—Ç—å —Ä–∏—Å–∫–∏ –∫–∏–±–µ—Ä–∞—Ç–∞–∫.' }
])
</script>

<template>
  <section class="why-section">
    <div class="why-left">
      <h2 class="why-title">{{ leftTitle }}</h2>

      <div
        v-for="(item, index) in leftItems"
        :key="item.number"
        class="why-left-item"
      >
        <div class="why-left-number">{{ item.number }})</div>
        <div class="why-left-text">{{ item.text }}</div>

        <button class="toggle-btn" @click="toggle(index)">
          {{ activeIndex === index ? '–°–∫—Ä—ã—Ç—å' : '–ê –∫–∞–∫ —É –¥—Ä—É–≥–∏—Ö?' }}
        </button>

        <!-- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –±–ª–æ–∫ –ø–æ–¥ –∫–∞–∂–¥—ã–º –ø—É–Ω–∫—Ç–æ–º -->
        <transition name="fade">
          <div
            v-if="activeIndex === index"
            class="why-alt-block"
          >
            <div
              class="why-item"
              v-for="alt in rightItems.filter(i => i.num === item.number.toString())"
              :key="alt.title"
            >
              <div class="why-icon">{{ alt.icon }}</div>
              <div class="why-content">
                <h3>{{ alt.title }}</h3>
                <p>{{ alt.text }}</p>
              </div>
            </div>
          </div>
        </transition>
      </div>
    </div>
  </section>
</template>

<style scoped>
.why-section {
  padding: 60px 30px;
  background-color: #f9f9f9;
  font-family: sans-serif;
  max-width: 900px;
  margin: auto;
}

.why-title {
  font-size: 32px;
  margin-bottom: 30px;
  font-weight: bold;
}

.why-left-item {
  margin-bottom: 30px;
  padding-bottom: 10px;
  border-bottom: 1px solid #ddd;
}

.why-left-number {
  font-weight: bold;
  font-size: 22px;
  margin-bottom: 6px;
}

.why-left-text {
  font-size: 18px;
  line-height: 1.5;
  margin-bottom: 10px;
}

.toggle-btn {
  background: none;
  border: none;
  color: #0050ff;
  font-size: 16px;
  cursor: pointer;
  font-weight: bold;
  padding: 0;
  margin-bottom: 10px;
}

.why-alt-block {
  background-color: #fff;
  border-left: 4px solid #0050ff;
  padding: 12px 16px;
  margin-top: 10px;
  border-radius: 6px;
}

.why-item {
  margin-bottom: 12px;
}

.why-icon {
  font-size: 20px;
  margin-bottom: 4px;
}

.why-content h3 {
  margin: 0 0 4px;
  font-size: 18px;
  font-weight: 600;
}

.why-content p {
  margin: 0;
  font-size: 16px;
  color: #333;
}

/* –ü–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ –±–ª–æ–∫–∞ */
.fade-enter-active,
.fade-leave-active {
  transition: opacity 0.25s ease;
}
.fade-enter-from,
.fade-leave-to {
  opacity: 0;
}

@media (max-width: 768px) {
  .why-section {
    padding: 40px 16px;
  }

  .why-title {
    font-size: 27px;
  }

  .why-left-text {
    font-size: 18px;
  }

  .toggle-btn {
    font-size: 15px;
  }

  .why-content h3 {
    font-size: 18px;
  }

  .why-content p {
    font-size: 18px;
  }
}
</style>
